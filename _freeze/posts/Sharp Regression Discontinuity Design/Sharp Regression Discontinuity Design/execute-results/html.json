{
  "hash": "4aae848fdb7e3f63c328f457c59765b9",
  "result": {
    "markdown": "---\ntitle: 'Sharp Regression Discontinuity Design: An Introduction'\ndesciption: This blog post gives introduciton for regression discontinuity designs\ncode-fold: true\nauthor: kakamana\ndate: '2023-02-27'\ncategories:\n  - python\n  - causal inference\n  - MADS\n  - University Of Michigan\n  - statistics\n  - regression discontinuity\nimage: sharpRDD.png\n---\n\n![](sharpRDD.png)\n\nA Sharp Regression Discontinuity Design (SRDD) employs regression discontinuity to estimate causal effects. When a threshold exists in the outcome variable, SRDD is used. SRDD can provide unbiased estimates of the causal effects of the treatment or intervention on the outcome variable by determining the threshold. This threshold can be a policy change, a cutoff score, or any other sharp change in the outcome variable.\n\nSRDD is based on the assumption that the treatment or intervention will have a sharp, discontinuous effect at the threshold. The basic concept is to compare the outcomes of individuals just above and just below the threshold. It is therefore possible to attribute any difference in outcomes between individuals who are near the threshold and those who are just below it to the intervention or treatment.\n\nIn SRDD, individuals are classified into treatment or control groups in accordance with their distance from the threshold. Individuals enrolled in the treatment group are those who are just above the threshold, while those enrolled in the control group are those who are just below the threshold. The control group is assumed to be identical to the treatment group except for the treatment or intervention.\n\nAs an example, suppose a university is considering changing its policy to provide financial aid to students who score above a specified threshold on a standardized test. The threshold for receiving the financial aid is 80 points. To estimate the causal effects of receiving financial aid on students' GPAs, we will use an example.\n\nOur method of estimating this effect includes the collection of data on test scores, GPAs, and other relevant variables for all students at the university. Then, we divide the students into two groups: those who achieved a test score just above or below the 80-point threshold. In order to estimate the relationship between GPAs and financial aid received, we can control for other relevant variables and use a regression model.\n\nIn order to estimate causal effects in economics and the social sciences, Sharp Regression Discontinuity Design (RD) is often used as a research design. When a continuous independent variable has a threshold or cutoff value, RD is utilized, and units above or below the threshold are assigned to a treatment group and a control group, respectively. By using a Sharp RD design, the average treatment effect (ATE) at the threshold is estimated, which is the difference between the potential outcomes of the treatment and control groups.\n\nAssuming constant effects and linearity in the independent variable ùëãùëñ:\n\nùëåùëñ0 = ùõº + ùõΩùëãùëñ\n\nùëåùëñ1 = ùëåùëñ0 + ùúè\n\nUsing the switching equation ùëåùëñ = ùëåùëñ0 + ùëåùëñ1 - ùëåùëñ0 ùê∑ùëñ, we get:\n\nùëåùëñ = ùõº + ùõΩùëãùëñ + ùúèùê∑ùëñ + ùúñùëñ\n\nwhere ùëåùëñ is the outcome variable for unit ùëñ, ùëãùëñ is the independent variable for unit ùëñ, ùê∑ùëñ is the treatment assignment for unit ùëñ (equal to 1 if ùëãùëñ > ùëê and 0 otherwise), ùúè is the ATE at the threshold ùëê, and ùúñùëñ is the error term.\n\nSharp RD designs estimate the ATE at the threshold using the conditional expectation:\n\nùúèùëÜùëÖùê∑ = ùîº[ùëå1 ‚àí ùëå0|ùëã = ùëê]\n\nwhere ùëå1 and ùëå0 are the potential outcomes for the treatment and control groups, respectively.\n\nHere's an example Python code to illustrate the process:\n\n```python\nimport pandas as pd\nimport statsmodels.api as sm\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Load data\ndata = pd.read_csv('data.csv')\n\n# Define the threshold\nc = 60\n\n# Define the treatment assignment\ndata['treatment'] = (data['test_scores'] > c).astype(int)\n\n# Fit a regression model\nmodel = sm.OLS(data['test_scores'], sm.add_constant(data[['test_scores', 'treatment']]))\nresults = model.fit()\n\n# Print the regression results\nprint(results.summary())\n\n# Calculate the ATE at the threshold\ntau = results.params[2]\n\n# Print the ATE at the threshold\nprint('ATE at the threshold:', tau)\n\n```\n\nIn this example, we first load the data into a Pandas dataframe. We define the threshold as ùëê = 60, and the treatment assignment as 1 if the test scores are above the threshold and 0 otherwise. We then fit a regression model with the test scores and treatment variables as independent variables, and the test scores as the dependent variable, using Ordinary Least Squares (OLS) estimator.\n\nWe can print the regression results to see the estimated coefficients for the independent variables, and the ATE at the threshold. We can also calculate the standard errors and t-statistics to test for the statistical significance of the ATE.\n\n![](ModelSummary.png)\n\nNow let's use following Python code to generate a plot to discuss\n```python\n# Plot the results\nfig, ax = plt.subplots()\nsns.regplot(x=data['test_scores'], y=data['test_scores'], scatter_kws={'alpha':0.3}, line_kws={'color':'red', 'linestyle':'--'}, ci=None, ax=ax)\nsns.regplot(x=data['test_scores'], y=data['test_scores'], scatter_kws={'alpha':0.3}, line_kws={'color':'blue'}, ci=None, ax=ax)\nsns.scatterplot(x=data['test_scores'], y=data['test_scores'], hue=data['treatment'], alpha=0.5, ax=ax)\nax.axvline(x=c, color='red', linestyle='--')\nax.set_xlabel('Test scores')\nax.set_ylabel('Test scores')\nplt.show()\n```\n\n![](Plot1.png)\n\n\nIn this code, we use the Seaborn library to create a plot of the relationship between the test scores and the potential outcomes for both the treatment and control groups, with the red dashed line representing the fitted regression line for the control group and the blue line representing the fitted regression line for the treatment group. The plot also shows the treatment assignment for each unit, and the vertical red dashed line representing the threshold ùëê.\n\nThe plot clearly shows the sharp discontinuity in the test scores at the threshold, and the difference in the potential outcomes for the treatment and control groups. The ATE at the threshold can be interpreted as the causal effect of the treatment on the test scores, for the units that are just above and below the threshold.\n\nIn conclusion, Sharp Regression Discontinuity Design with Potential Outcome is a powerful tool for estimating causal effects when there is a threshold or cut-off value for a continuous independent variable, and the units above or below the threshold are assigned to a treatment or control group, respectively. By estimating the ATE at the threshold, we can estimate the causal effect of the treatment on the outcome variable, and control for other relevant variables using regression analysis.\n\n",
    "supporting": [
      "Sharp Regression Discontinuity Design_files"
    ],
    "filters": [],
    "includes": {}
  }
}